---
phase: 07-resilience-tooling
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/index.ts
  - src/cli/index.ts
autonomous: true

must_haves:
  truths:
    - "klausbot skills command no longer exists"
    - "Help text no longer mentions skills subcommand"
    - "CLI barrel no longer exports skills functions (except ensureSkillCreator)"
  artifacts:
    - path: "src/index.ts"
      provides: "CLI entry point without skills routing"
      contains: "npx openskills"
    - path: "src/cli/index.ts"
      provides: "Minimal CLI exports"
      exports: ["runInstallWizard", "ensureSkillCreator", "runCronCLI"]
  key_links:
    - from: "src/index.ts"
      to: "printHelp"
      via: "help output includes external tool reference"
      pattern: "npx openskills"
---

<objective>
Remove klausbot skills CLI subcommand and document external alternatives.

Purpose: Per CONTEXT.md, no official `npx skills` exists. Rather than maintain our own registry, point users to community tools like `npx openskills` or manual installation to ~/.claude/skills/.

Output: Cleaner CLI, removed maintenance burden, documentation points to external tools.
</objective>

<execution_context>
@/home/soham/.claude/get-shit-done/workflows/execute-plan.md
@/home/soham/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-resilience-tooling/07-RESEARCH.md
@src/index.ts
@src/cli/index.ts
@src/cli/skills.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove skills CLI routing from index.ts</name>
  <files>src/index.ts</files>
  <action>
1. Remove the `case 'skills':` block (lines ~218-228):
   ```typescript
   // DELETE THIS ENTIRE BLOCK:
   case 'skills': {
     const subcommand = args[1];
     if (subcommand === 'browse') {
       const { browseSkills } = await import('./cli/index.js');
       await browseSkills();
     } else {
       const { runSkillsCLI } = await import('./cli/index.js');
       await runSkillsCLI();
     }
     break;
   }
   ```

2. Update printHelp() function - replace skills line:
   ```typescript
   // OLD:
   klausbot skills [browse]             Install and manage skills

   // NEW:
   # Skills: Use npx openskills or install manually to ~/.claude/skills/
   ```

   The # makes it a comment-style note rather than a command.

3. Keep ensureSkillCreator call in gateway startup (it's still needed to auto-install skill-creator).
  </action>
  <verify>`klausbot help` shows skill note, `klausbot skills` shows "Unknown command"</verify>
  <done>skills subcommand removed, help text references external tools</done>
</task>

<task type="auto">
  <name>Task 2: Update CLI barrel exports</name>
  <files>src/cli/index.ts</files>
  <action>
1. Remove runSkillsCLI and browseSkills exports:
   ```typescript
   // OLD:
   export { runInstallWizard } from './install.js';
   export { runSkillsCLI, ensureSkillCreator, browseSkills } from './skills.js';
   export { runCronCLI } from './cron.js';

   // NEW:
   export { runInstallWizard } from './install.js';
   export { ensureSkillCreator } from './skills.js';
   export { runCronCLI } from './cron.js';
   ```

2. Keep ensureSkillCreator - still needed for gateway startup to auto-install skill-creator.

3. DO NOT delete src/cli/skills.ts - it still contains ensureSkillCreator and the skill installation logic that may be needed internally.
  </action>
  <verify>`npm run build` compiles</verify>
  <done>CLI barrel exports only essential functions, no public skills commands</done>
</task>

</tasks>

<verification>
- [ ] `npm run build` succeeds
- [ ] `node dist/index.js help` shows external tool note instead of skills command
- [ ] `node dist/index.js skills` returns "Unknown command" error
- [ ] Gateway startup still calls ensureSkillCreator (check gateway.ts)
</verification>

<success_criteria>
- No `klausbot skills` command
- Help text mentions npx openskills and ~/.claude/skills/
- ensureSkillCreator still works for gateway startup
- No runtime errors from removed exports
</success_criteria>

<output>
After completion, create `.planning/phases/07-resilience-tooling/07-02-SUMMARY.md`
</output>
